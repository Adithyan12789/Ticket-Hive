"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const AdminController_1 = __importDefault(require("../Controllers/AdminController"));
const MovieController_1 = __importDefault(require("../Controllers/MovieController"));
const AdminAuthMiddleware_1 = require("../Middlewares/AdminAuthMiddleware");
const TheaterMulter_1 = __importDefault(require("../Config/Multer/TheaterMulter"));
const MovieMulter_1 = __importDefault(require("../Config/Multer/MovieMulter"));
const BookingController_1 = __importDefault(require("../Controllers/BookingController"));
const ChatController_1 = __importDefault(require("../Controllers/ChatController"));
const TheaterController_1 = __importDefault(require("../Controllers/TheaterController"));
const router = express_1.default.Router();
router.post('/admin-login', AdminController_1.default.adminLogin);
router.get('/get-user', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.getAllUsers);
router.post('/get-theaterOwners', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.getAllTheaterOwners);
router.patch('/block-user', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.blockUserController);
router.patch('/unblock-user', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.unblockUserController);
router.patch('/block-theaterOwner', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.blockTheaterOwnerController);
router.patch('/unblock-theaterOwner', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.unblockTheaterOwnerController);
router.get('/verification', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.getVerificationDetails);
router.put('/verification/:theaterId/accept', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.acceptVerification);
router.put('/verification/:adminId/reject', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.rejectVerification);
router.post('/add-movie', MovieMulter_1.default.multerUploadMultipleFields, (req, res, next) => {
    next();
}, MovieController_1.default.addMovieController);
router.get('/get-movies', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, MovieController_1.default.getAllMoviesController);
router.get('/movie-details/:id', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, MovieController_1.default.getMovieByIdHandler);
router.put('/movie-edit/:id', MovieMulter_1.default.multerUploadMultipleFields, (req, res, next) => {
    next();
}, MovieController_1.default.updateMovieHandler);
router.delete('/movie-delete/:id', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, MovieController_1.default.deleteMovieHandler);
router.get('/getAlltickets', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, AdminController_1.default.getAllTickets);
router.get("/tickets/:ticketId", AdminAuthMiddleware_1.AdminAuthMiddleware.protect, BookingController_1.default.getTicketDetails);
router.put("/tickets/:ticketId", AdminAuthMiddleware_1.AdminAuthMiddleware.protect, BookingController_1.default.updateTicket);
router.get("/theater/:theaterId/bookings", AdminAuthMiddleware_1.AdminAuthMiddleware.protect, BookingController_1.default.getTheaterBookings);
router.patch('/statusChange/:bookingId', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, BookingController_1.default.updateBookingStatus);
router.get('/get-theaterOwners', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, TheaterController_1.default.getTheaterOwners);
router.get('/chatrooms/:adminId', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, ChatController_1.default.getAdminChatRooms);
router.route('/chatrooms/:chatRoomId/messages').get(AdminAuthMiddleware_1.AdminAuthMiddleware.protect, ChatController_1.default.getAdminMessages).post(TheaterMulter_1.default.multerUploadChatFiles.single('file'), AdminAuthMiddleware_1.AdminAuthMiddleware.protect, ChatController_1.default.sendAdminMessages);
router.route('/mark-messages-read').post(AdminAuthMiddleware_1.AdminAuthMiddleware.protect, ChatController_1.default.markAdminMessagesAsRead);
router.get('/notifications/unread', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, ChatController_1.default.getAdminUnreadMessages);
router.put('/notifications/:id/read', AdminAuthMiddleware_1.AdminAuthMiddleware.protect, ChatController_1.default.markAdminMessagesAsRead);
router.post('/admin-logout', AdminController_1.default.adminLogout);
exports.default = router;
